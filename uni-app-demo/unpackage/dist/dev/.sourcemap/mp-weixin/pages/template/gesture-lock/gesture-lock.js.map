{"version":3,"sources":["webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/components/mpvueGestureLock/gestureLock.js","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/components/mpvueGestureLock/index.vue?abdb","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/components/mpvueGestureLock/index.vue?d06c","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/components/mpvueGestureLock/index.vue?9341","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/components/mpvueGestureLock/index.vue?1f28","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/main.js","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/pages/template/gesture-lock/gesture-lock.vue?857c","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/pages/template/gesture-lock/gesture-lock.vue?d943","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/pages/template/gesture-lock/gesture-lock.vue?4273","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/components/mpvueGestureLock/index.vue","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/pages/template/gesture-lock/gesture-lock.vue","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/components/mpvueGestureLock/index.vue?a0d5","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/components/mpvueGestureLock/index.vue?fac5","webpack:////Users/true/Desktop/hi-xqf/uni-app-demo/pages/template/gesture-lock/gesture-lock.vue?57eb"],"names":["GestureLock","containerWidth","cycleRadius","circleArray","checkPoints","lineArray","lastCheckPoint","offsetX","offsetY","activeLine","windowWidth","wx","getSystemInfoSync","initCircleArray","cycleMargin","count","i","j","push","x","rpxTopx","y","radius","check","style","left","top","width","e","setOffset","checkTouch","touches","pageX","pageY","moveDraw","reset","currentTarget","offsetLeft","offsetTop","length","point","isPointInCycle","line","drawLine","start","end","getPointDis","rotate","getAngle","activeLeft","activeTop","activeWidth","activeRotate","diff_x","diff_y","Math","atan","PI","circleX","circleY","ax","ay","bx","by","sqrt","pow","forEach","item","rpx","Page","App","name","props","Number","String","password","type","Array","default","data","gestureLock","error","methods","onTouchStart","refesh","onTouchMove","onTouchEnd","join","$emit","setTimeout","getCycleArray","getLineArray","getActiveLine","mounted","components","mpvueGestureLock","title","text","onEnd"],"mappings":"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cY,IAAd,CAAmB,EAAnB,MAA2BR,IAAI,CAACQ,IAAL,CAAU,EAAV,CAA/B,EAA8C;AAC1C,eAAKU,IAAL,GAAY,QAAZ;AACA,eAAKtB,QAAL,GAAgB,EAAhB;AACH,SAHD,MAGO;AACH,eAAKsB,IAAL,GAAY,WAAZ;AACA,eAAKtB,QAAL,GAAgB,EAAhB;AACH;AACJ,OARD,MAQO;AACH,aAAKsB,IAAL,GAAY,SAAZ;AACA,aAAKtB,QAAL,GAAgBI,IAAhB;AACH;AACJ,KAdI,EAXE,E;;;;;;;;;;;ACfnB,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,mBAAmB;AACjC;AACA;AACA;AACA,OAAO;AACP,cAAc,wBAAwB;AACtC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS,0CAA0C,EAAE;AAC5E,kBAAkB,gDAAgD;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,WAAW,0DAA0D;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pages/template/gesture-lock/gesture-lock.js","sourcesContent":["class GestureLock {\n\n    constructor(containerWidth, cycleRadius) {\n        this.containerWidth = containerWidth; // 容器宽度\n        this.cycleRadius = cycleRadius; // 圆的半径\n\n        this.circleArray = []; // 全部圆的对象数组\n        this.checkPoints = []; // 选中的圆的对象数组\n        this.lineArray = []; // 已激活锁之间的线段数组\n        this.lastCheckPoint = 0; // 最后一个激活的锁\n        this.offsetX = 0; // 容器的 X 偏移\n        this.offsetY = 0; // 容器的 Y 偏移\n        this.activeLine = {}; // 最后一个激活的锁与当前位置之间的线段\n\n        this.windowWidth = wx.getSystemInfoSync().windowWidth; // 窗口大小(用于rpx 和 px 转换)\n\n        this.initCircleArray();\n    }\n\n    // 初始化 画布上的 9个圆\n    initCircleArray() {\n        const cycleMargin = (this.containerWidth - 6 * this.cycleRadius) / 6;\n        let count = 0;\n        for (let i = 0; i < 3; i++) {\n            for (let j = 0; j < 3; j++) {\n                count++;\n                this.circleArray.push({\n                    count: count,\n                    x: this.rpxTopx((cycleMargin + this.cycleRadius) * (j * 2 + 1)),\n                    y: this.rpxTopx((cycleMargin + this.cycleRadius) * (i * 2 + 1)),\n                    radius: this.rpxTopx(this.cycleRadius),\n                    check: false,\n                    style: {\n                        left: (cycleMargin + this.cycleRadius) * (j * 2 + 1) - this.cycleRadius + 'rpx',\n                        top: (cycleMargin + this.cycleRadius) * (i * 2 + 1) - this.cycleRadius + 'rpx',\n                        width: this.cycleRadius * 2 + 'rpx',\n                    }\n                });\n            }\n        }\n    }\n\n    onTouchStart(e) {\n        this.setOffset(e);\n        this.checkTouch({\n            x: e.touches[0].pageX - this.offsetX,\n            y: e.touches[0].pageY - this.offsetY\n        });\n    }\n\n    onTouchMove(e) {\n        this.moveDraw(e)\n    }\n\n    onTouchEnd(e) {\n        const checkPoints = this.checkPoints;\n        this.reset();\n        return checkPoints;\n    }\n\n    // 初始化 偏移量\n    setOffset(e) {\n        this.offsetX = e.currentTarget.offsetLeft;\n        this.offsetY = e.currentTarget.offsetTop;\n    }\n\n    // 检测当时 触摸位置是否位于 锁上\n    checkTouch({\n        x,\n        y\n    }) {\n        for (let i = 0; i < this.circleArray.length; i++) {\n            let point = this.circleArray[i];\n            if (this.isPointInCycle(x, y, point.x, point.y, point.radius)) {\n                if (!point.check) {\n                    this.checkPoints.push(point.count);\n                    if (this.lastCheckPoint != 0) {\n                        // 已激活锁之间的线段\n                        const line = this.drawLine(this.lastCheckPoint, point);\n                        this.lineArray.push(line);\n                    }\n                    this.lastCheckPoint = point;\n                }\n                point.check = true;\n                return;\n            }\n        }\n    }\n\n    // 画线 - 返回 样式 对象\n    drawLine(start, end) {\n        const width = this.getPointDis(start.x, start.y, end.x, end.y);\n        const rotate = this.getAngle(start, end);\n\n        return {\n            activeLeft: start.x + 'px',\n            activeTop: start.y + 'px',\n            activeWidth: width + 'px',\n            activeRotate: rotate + 'deg'\n        }\n\n    }\n\n    // 获取 画线的 角度\n    getAngle(start, end) {\n        var diff_x = end.x - start.x,\n            diff_y = end.y - start.y;\n        if (diff_x >= 0) {\n            return 360 * Math.atan(diff_y / diff_x) / (2 * Math.PI);\n        } else {\n            return 180 + 360 * Math.atan(diff_y / diff_x) / (2 * Math.PI);\n        }\n    }\n\n    // 判断 当前点是否位于 锁内\n    isPointInCycle(x, y, circleX, circleY, radius) {\n        return (this.getPointDis(x, y, circleX, circleY) < radius) ? true : false;\n    }\n\n    // 获取两点之间距离\n    getPointDis(ax, ay, bx, by) {\n        return Math.sqrt(Math.pow(ax - bx, 2) + Math.pow(ay - by, 2));\n    }\n\n    // 移动 绘制\n    moveDraw(e) {\n        // 画经过的圆\n        const x = e.touches[0].pageX - this.offsetX;\n        const y = e.touches[0].pageY - this.offsetY;\n        this.checkTouch({\n            x,\n            y\n        });\n\n        // 画 最后一个激活的锁与当前位置之间的线段\n        this.activeLine = this.drawLine(this.lastCheckPoint, {\n            x,\n            y\n        });\n    }\n\n    // 使 画布 恢复初始状态\n    reset() {\n        this.circleArray.forEach((item) => {\n            item.check = false;\n        });\n        this.checkPoints = [];\n        this.lineArray = [];\n        this.activeLine = {};\n        this.lastCheckPoint = 0;\n    }\n\n\n    // 获取 最后一个激活的锁与当前位置之间的线段\n    getActiveLine() {\n        return this.activeLine;\n    }\n\n    // 获取 圆对象数组\n    getCycleArray() {\n        return this.circleArray;\n    }\n\n    // 获取 已激活锁之间的线段\n    getLineArray() {\n        return this.lineArray;\n    }\n\n    // 将 RPX 转换成 PX\n    rpxTopx(rpx) {\n        return rpx / 750 * this.windowWidth;\n    }\n}\n\nexport default GestureLock;\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5cd5b779&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5cd5b779&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5cd5b779\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5cd5b779', component.options)\n    } else {\n      api.reload('5cd5b779', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=5cd5b779&scoped=true&\", function () {\n      api.rerender('5cd5b779', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/true/Desktop/hi-xqf/uni-app-demo/components/mpvueGestureLock/index.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5cd5b779&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5cd5b779&scoped=true&lang=css&\"","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=5cd5b779&scoped=true&\"","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/template/gesture-lock/gesture-lock.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./gesture-lock.vue?vue&type=template&id=57d7ba89&\"\nimport script from \"./gesture-lock.vue?vue&type=script&lang=js&\"\nexport * from \"./gesture-lock.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('57d7ba89', component.options)\n    } else {\n      api.reload('57d7ba89', component.options)\n    }\n    module.hot.accept(\"./gesture-lock.vue?vue&type=template&id=57d7ba89&\", function () {\n      api.rerender('57d7ba89', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/true/Desktop/hi-xqf/uni-app-demo/pages/template/gesture-lock/gesture-lock.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./gesture-lock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./gesture-lock.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./gesture-lock.vue?vue&type=template&id=57d7ba89&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport GestureLock from './gestureLock';\n\nexport default {\n    name: 'index',\n    props: {\n        /**\n         * 容器宽度\n         */\n        containerWidth: [Number, String],\n        /**\n         * 圆的半径\n         */\n        cycleRadius: [Number, String],\n        /**\n         * 已设定的密码\n         */\n        password: {\n            type: Array,\n            default: []\n        },\n    },\n    data() {\n        return {\n            gestureLock: {}, // 锁对象\n            circleArray: [], // 圆对象数组\n            lineArray: [], // 已激活锁之间的线段\n            activeLine: {}, // 最后一个激活的锁与当前位置之间的线段\n            error: false\n        }\n    },\n    methods: {\n        onTouchStart(e) {\n            this.gestureLock.onTouchStart(e);\n            this.refesh();\n        },\n\n        onTouchMove(e) {\n            this.gestureLock.onTouchMove(e);\n            this.refesh();\n        },\n\n        onTouchEnd(e) {\n            const checkPoints = this.gestureLock.onTouchEnd(e);\n            if (!this.password.length || checkPoints.join('') == this.password.join('')) {\n                this.refesh();\n                this.$emit('end', checkPoints);\n            } else {\n                this.error = true;\n                setTimeout(() => {\n                    this.refesh();\n                    this.$emit('end', checkPoints);\n                }, 800);\n            }\n\n        },\n        refesh() {\n            this.error = false;\n            this.circleArray = this.gestureLock.getCycleArray();\n            this.lineArray = this.gestureLock.getLineArray();\n            this.activeLine = this.gestureLock.getActiveLine();\n        }\n    },\n    mounted() {\n        this.gestureLock = new GestureLock(this.containerWidth, this.cycleRadius);\n        this.refesh();\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n    import mpvueGestureLock from '@/components/mpvueGestureLock';\n\n    export default {\n        components: {\n            mpvueGestureLock\n        },\n        data() {\n            return {\n\t\t\t\ttitle : \"手势图案\",\n                password: [],\n                text: '请设定手势'\n            }\n        },\n        methods: {\n            onEnd(data) {\n                if (this.password.length) {\n                    if (this.password.join('') === data.join('')) {\n                        this.text = '手势设定完成'\n                        this.password = []\n                    } else {\n                        this.text = '两次手势设定不一致'\n                        this.password = []\n                    }\n                } else {\n                    this.text = '请确认手势设定'\n                    this.password = data\n                }\n            }\n        }\n    }\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"gesture-lock\",\n      class: { error: _vm.error },\n      style: {\n        width: _vm.containerWidth + \"rpx\",\n        height: _vm.containerWidth + \"rpx\"\n      },\n      attrs: { eventid: \"456b8a06-0\" },\n      on: {\n        touchstart: function($event) {\n          $event.stopPropagation()\n          _vm.onTouchStart($event)\n        },\n        touchmove: function($event) {\n          $event.stopPropagation()\n          _vm.onTouchMove($event)\n        },\n        touchend: function($event) {\n          $event.stopPropagation()\n          _vm.onTouchEnd($event)\n        }\n      }\n    },\n    [\n      _vm._l(_vm.circleArray, function(item, i) {\n        return _c(\"div\", {\n          key: i,\n          staticClass: \"cycle\",\n          class: { check: item.check },\n          style: {\n            left: item.style.left,\n            top: item.style.top,\n            width: item.style.width,\n            height: item.style.width\n          }\n        })\n      }),\n      _vm._l(_vm.lineArray, function(item, i) {\n        return _c(\"div\", {\n          key: i,\n          staticClass: \"line\",\n          style: {\n            left: item.activeLeft,\n            top: item.activeTop,\n            width: item.activeWidth,\n            transform: \"rotate(\" + item.activeRotate + \")\"\n          }\n        })\n      }),\n      _c(\"div\", {\n        staticClass: \"line\",\n        style: {\n          left: _vm.activeLine.activeLeft,\n          top: _vm.activeLine.activeTop,\n          width: _vm.activeLine.activeWidth,\n          transform: \"rotate(\" + _vm.activeLine.activeRotate + \")\"\n        }\n      })\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    [\n      _c(\"page-head\", { attrs: { title: _vm.title, mpcomid: \"34b0282c-0\" } }),\n      _c(\"view\", { staticClass: \"uni-padding-wrap uni-common-mt\" }, [\n        _c(\n          \"view\",\n          [\n            _c(\"mpvue-gesture-lock\", {\n              attrs: {\n                containerWidth: 590,\n                cycleRadius: 70,\n                password: _vm.password,\n                eventid: \"34b0282c-0\",\n                mpcomid: \"34b0282c-1\"\n              },\n              on: { end: _vm.onEnd }\n            })\n          ],\n          1\n        ),\n        _c(\n          \"view\",\n          { staticClass: \"uni-helllo-text uni-common-mt uni-center\" },\n          [_vm._v(_vm._s(_vm.text))]\n        )\n      ])\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}